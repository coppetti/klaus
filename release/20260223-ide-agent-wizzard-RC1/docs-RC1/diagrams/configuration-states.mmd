%% IDE Agent Wizard - Configuration States
%% Use with Mermaid: https://mermaid.live

stateDiagram-v2
    [*] --> NoConfig: Fresh Install
    
    NoConfig --> IDEOnly: Select "IDE only"
    NoConfig --> IDEAndTelegram: Select "IDE + Telegram"
    
    IDEOnly --> IDEAndTelegram: Add Telegram
    IDEAndTelegram --> IDEOnly: Remove Telegram
    
    IDEOnly --> EditSettings: Edit Settings
    IDEAndTelegram --> EditSettings: Edit Settings
    
    EditSettings --> IDEOnly: Updated
    EditSettings --> IDEAndTelegram: Updated
    
    IDEOnly --> StartFresh: Start Fresh
    IDEAndTelegram --> StartFresh: Start Fresh
    
    StartFresh --> NoConfig: Confirm Delete
    StartFresh --> IDEOnly: Cancel
    StartFresh --> IDEAndTelegram: Cancel
    
    state IDEOnly {
        [*] --> init_yaml_created
        init_yaml_created --> ide_enabled
        ide_enabled --> memory_active
        memory_active --> [*]
    }
    
    state IDEAndTelegram {
        [*] --> init_yaml_created2
        init_yaml_created2 --> ide_enabled2
        ide_enabled2 --> telegram_enabled
        telegram_enabled --> docker_running
        docker_running --> memory_shared
        memory_shared --> [*]
    }
    
    state EditSettings {
        [*] --> ChooseEdit
        ChooseEdit --> EditIdentity: Agent Identity
        ChooseEdit --> EditProfile: User Profile
        ChooseEdit --> EditBoth: Both
        EditIdentity --> Save
        EditProfile --> Save
        EditBoth --> Save
        Save --> [*]
    }
